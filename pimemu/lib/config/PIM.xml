<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Copyright (c) 2013 Advanced Micro Devices, Inc.

 RESTRICTED RIGHTS NOTICE (DEC 2007)
 (a)     This computer software is submitted with restricted rights under
     Government Contract No. DE-AC52-8MA27344 and subcontract B600716. It
     may not be used, reproduced, or disclosed by the Government except as
     provided in paragraph (b) of this notice or as otherwise expressly
     stated in the contract.

 (b)     This computer software may be -
     (1) Used or copied for use with the computer(s) for which it was
         acquired, including use at any Government installation to which
         the computer(s) may be transferred;
     (2) Used or copied for use with a backup computer if any computer for
         which it was acquired is inoperative;
     (3) Reproduced for safekeeping (archives) or backup purposes;
     (4) Modified, adapted, or combined with other computer software,
         provided that the modified, adapted, or combined portions of the
         derivative software incorporating any of the delivered, restricted
         computer software shall be subject to the same restricted rights;
     (5) Disclosed to and reproduced for use by support service contractors
         or their subcontractors in accordance with paragraphs (b)(1)
         through (4) of this notice; and
     (6) Used or copied for use with a replacement computer.

 (c)     Notwithstanding the foregoing, if this computer software is copyrighted
     computer software, it is licensed to the Government with the minimum
     rights set forth in paragraph (b) of this notice.

 (d)     Any other rights or limitations regarding the use, duplication, or
     disclosure of this computer software are to be expressly stated in, or
     incorporated in, the contract.

 (e)     This notice shall be marked on any reproduction of this computer
     software, in whole or in part. -->

<!-- Exascale Fast Forward EHP-PIM  emulation setup file -->
<!-- The devices described in this XML file are the devices that software sees when using the PIM API
     but they need not exist on the real hardware.
     A resourceful program will use pim_get_device_info() to get these values and learn more about the hardware it's running on.
     This file describes a system Host APU and 8 stacked DRAM stacks each with a PIM, the PIM itself is an APU. 
     The host processor on the EHP node has 8 cpu cores and a GPU with 192 compute units.
     The EHP node has 8 PIMS - each associated with a DRAM Stack (with 16GB of memory) and 2 cpus and 1 GPU core with 16 CUs.
     -->
<!--  This configuration is intended to model the effective capabilities of a node. Actual implementation to achieve such capabilities may differ from the parameters here -->
<node> <!-- node has one host processor and 8 PIMs -->
  <ehp>
    <!-- EHP host processor has 8 2-way SMT CPUs and one 192 CU GPU core -->
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>6</width>
      <freq>3000</freq>
      <num_hwthreads>2</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <!-- EHP GPU -->
    <gpu_core>
      <isa>si</isa>
      <cus>192</cus>
      <freq>1000</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>

  </ehp>
 <!-- 8 PIMS total  
 Each PIM has 2 CPUs one 16 CU GPU core and DRAM stack -->
  <!-- PIM 0 -->
  <pim>
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 1 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 2 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 3 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 4 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 5 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 6 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
  <!-- PIM 7 -->
  <pim> 
    <job_start_time_ns>1000</job_start_time_ns> 
    <job_end_time_ns>1000</job_end_time_ns> 
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <cpu_core>
      <width>2</width>
      <freq>2000</freq>
      <num_hwthreads>1</num_hwthreads>
      <isa>x86-64</isa>
      <ordering>ooo</ordering>
    </cpu_core>
    <gpu_core>
      <isa>si</isa>
      <cus>16</cus>
      <freq>750</freq>
      <width>64</width>
      <num_instr_perclck>1</num_instr_perclck>
    </gpu_core>
    <dram>
      <size>16386</size>
      <freq>2000</freq>
      <num_channels>8</num_channels>
      <channel_width>256</channel_width>
      <bits_percycle>4</bits_percycle>
      <latency>35</latency>
      <off_stack_latency>50</off_stack_latency>
      <off_stack_bw>25</off_stack_bw>
      <between_pim_bw>10</between_pim_bw>
      <utilization>80</utilization>
    </dram>
  </pim>
</node>
